import{a3 as G,ba as j,a4 as z,u as F,a as J,o as _,c as C,b as r,ac as N,d as S,b7 as K,ab as H,ax as W,a6 as q,J as X,aa as P,w as L,U as Q,V as E,aH as Y,a7 as Z,a8 as ee,f as M,bb as te}from"./index.f0559b93.js";var O={exports:{}};(function(R,T){(function(y,p){R.exports=p()})(G,function(){return function y(p,w,a){var s=window,d="application/octet-stream",t=a||d,e=p,i=!w&&!a&&e,n=document.createElement("a"),k=function(o){return String(o)},c=s.Blob||s.MozBlob||s.WebKitBlob||k,f=w||"download",l,x;if(c=c.call?c.bind(s):Blob,String(this)==="true"&&(e=[e,t],t=e[0],e=e[1]),i&&i.length<2048&&(f=i.split("/").pop().split("?")[0],n.href=i,n.href.indexOf(i)!==-1)){var m=new XMLHttpRequest;return m.open("GET",i,!0),m.responseType="blob",m.onload=function(o){y(o.target.response,f,d)},setTimeout(function(){m.send()},0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(e))if(e.length>1024*1024*1.999&&c!==k)e=U(e),t=e.type||d;else return navigator.msSaveBlob?navigator.msSaveBlob(U(e),f):b(e);else if(/([\x80-\xff])/.test(e)){var h=0,B=new Uint8Array(e.length),I=B.length;for(h;h<I;++h)B[h]=e.charCodeAt(h);e=new c([B],{type:t})}l=e instanceof c?e:new c([e],{type:t});function U(o){var u=o.split(/[:;,]/),g=u[1],$=u[2]=="base64"?atob:decodeURIComponent,V=$(u.pop()),A=V.length,v=0,D=new Uint8Array(A);for(v;v<A;++v)D[v]=V.charCodeAt(v);return new c([D],{type:g})}function b(o,u){if("download"in n)return n.href=o,n.setAttribute("download",f),n.className="download-js-link",n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n),u===!0&&setTimeout(function(){s.URL.revokeObjectURL(n.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(o)&&(o="data:"+o.replace(/^data:([\w\/\-\+]+)/,d)),window.open(o)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=o),!0;var g=document.createElement("iframe");document.body.appendChild(g),!u&&/^data:/.test(o)&&(o="data:"+o.replace(/^data:([\w\/\-\+]+)/,d)),g.src=o,setTimeout(function(){document.body.removeChild(g)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(l,f);if(s.URL)b(s.URL.createObjectURL(l),!0);else{if(typeof l=="string"||l.constructor===k)try{return b("data:"+t+";base64,"+s.btoa(l))}catch{return b("data:"+t+","+encodeURIComponent(l))}x=new FileReader,x.onload=function(o){b(this.result)},x.readAsDataURL(l)}return!0}})})(O);var ae=O.exports;const oe={class:"container"},ne={class:"mt-5 pt-5",id:"lecture"},ie={class:"row"},se={class:"col-12"},re={class:"col-12 text-center"},ce={class:"col-12"},le=["innerHTML"],de={class:"col-12",cols:"12"},ue={class:"col-12"},pe=M("\u6211\u8981\u5831\u540D"),fe=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),he={__name:"ArticleView",setup(R){const T=j(),y=z(),p=F(),{addLecture:w}=p,a=J({_id:"",title:"",content:"",image:"",files:[],category:"",post:!0,date:""}),s=async(t,e)=>{const i=await te.get(t,{responseType:"blob",headers:{accept:"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"}}),n=i.headers["content-type"];ae(i.data,"\u9644\u4EF6"+e+"."+t.split(".").reverse()[0],n)};return(async()=>{try{const{data:t}=await Z.get("/articles/"+T.params.id);a._id=t.article._id,a.title=t.article.title,a.content=t.article.content,a.image="https://taishanim.herokuapp.com/files/"+t.article.image,a.files=t.article.files.map(e=>({name:e,link:"https://taishanim.herokuapp.com/files/"+e})),a.category=t.article.category,a.post=t.article.post,a.date=t.article.date}catch{ee.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u6587\u7AE0\u8CC7\u6599\u5931\u6557"}),y.go(-1)}})(),(t,e)=>(_(),C("div",oe,[r("div",ne,[r("div",ie,[r("div",se,[r("h1",null,N(a.title),1)]),S(K),r("div",re,[a.image?(_(),H(W,{key:0,src:a.image},null,8,["src"])):q("",!0)]),r("div",ce,[r("p",{innerHTML:a.content},null,8,le)]),(_(!0),C(X,null,P(a.files,(i,n)=>(_(),C("div",de,[S(E,{color:"blue darken-4",variant:"outlined",onClick:k=>s(i.link,n+1)},{default:L(()=>[M("\u9644\u4EF6"+N(n+1),1)]),_:2},1032,["onClick"])]))),256)),r("div",ue,[a.category==="\u8B1B\u5EA7\u8CC7\u8A0A"?(_(),H(E,{key:0,color:"blue darken-4",onClick:e[0]||(e[0]=i=>Q(w)({lecture:a._id})),variant:"outlined"},{default:L(()=>[pe]),_:1})):q("",!0)]),S(Y,{class:"align-center justify-center","model-value":!a.post},{default:L(()=>[fe]),_:1},8,["model-value"])])])]))}};export{he as default};
