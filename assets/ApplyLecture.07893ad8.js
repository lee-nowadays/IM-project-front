import{u as p,r as f,a as m,o as c,c as o,b as t,d as n,b7 as y,w as r,b8 as v,a8 as w,J as b,aa as k,b9 as V,ac as i,V as g,f as x}from"./index.b583a918.js";import{V as D}from"./VTable.34e2a886.js";const L={class:"mt-5 pt-5",id:"applyLecture"},S={class:"container"},B={class:"row"},C=t("div",{class:"col-12"},[t("h1",{class:"text-center"},"\u5831\u540D\u72C0\u614B")],-1),N={class:"col-12"},A=t("thead",null,[t("tr",null,[t("th",null," \u6D3B\u52D5\u65E5\u671F "),t("th",null," \u8B1B\u5EA7\u540D\u7A31"),t("th",null," \u5831\u540D\u72C0\u614B"),t("th")])],-1),T=t("td",null," \u5831\u540D\u6210\u529F",-1),z=x("\u53D6\u6D88\u5831\u540D"),E={key:1},F=t("td",{class:"text-center",colspan:"4"},"\u6C92\u6709\u5831\u540D\u8A18\u9304",-1),J=[F],I={__name:"ApplyLecture",setup($){const d=p(),u=f(!1),s=m([]),_=async e=>{await d.deleteLecture({lectures:s[e].lecture._id})&&s.splice(e,1)};return(async()=>{try{const{data:e}=await v.get("/students/lectures");e.result.map(l=>{Date.parse(l.lecture.date)>Date.now()&&s.push(l)})}catch(e){console.log(e),w.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}u.value=!0})(),(e,l)=>(c(),o("div",L,[t("div",S,[t("div",B,[C,n(y),t("div",N,[n(D,null,{default:r(()=>[A,t("tbody",null,[s.length>0?(c(!0),o(b,{key:0},k(s,(a,h)=>(c(),o("tr",{key:a._id,class:V({"bg-red":!a.lecture.post})},[t("td",null,i(new Date(a.lecture.date).toLocaleDateString()),1),t("td",null,i(a.lecture.title),1),T,t("td",null,[n(g,{class:"text-white",color:"blue darken-4",onClick:q=>_(h)},{default:r(()=>[z]),_:2},1032,["onClick"])])],2))),128)):(c(),o("tr",E,J))])]),_:1})])])])]))}};export{I as default};
