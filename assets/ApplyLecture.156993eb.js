import{u as h,a as p,o as l,c as n,b as t,d as o,b7 as y,w as r,b8 as f,a8 as m,J as b,aa as k,b9 as v,ac as i,V as w,f as V}from"./index.c09feab8.js";import{V as g}from"./VTable.a7c5461f.js";const x={class:"mt-5 pt-5",id:"applyLecture"},D={class:"container"},L={class:"row"},S=t("div",{class:"col-12"},[t("h1",{class:"text-center"},"\u5831\u540D\u72C0\u614B")],-1),B={class:"col-12"},C=t("thead",null,[t("tr",null,[t("th",null," \u6D3B\u52D5\u65E5\u671F "),t("th",null," \u8B1B\u5EA7\u540D\u7A31"),t("th",null," \u5831\u540D\u72C0\u614B"),t("th")])],-1),A=t("td",null," \u5831\u540D\u6210\u529F",-1),N=V("\u53D6\u6D88\u5831\u540D"),T={key:1},z=t("td",{class:"text-center",colspan:"4"},"\u6C92\u6709\u5831\u540D\u8A18\u9304",-1),E=[z],G={__name:"ApplyLecture",setup(F){const d=h(),s=p([]),u=async e=>{await d.deleteLecture({lectures:s[e].lecture._id})&&s.splice(e,1)};return(async()=>{try{const{data:e}=await f.get("/students/lectures");e.result.map(c=>{Date.parse(c.lecture.date)>Date.now()&&s.push(c)})}catch{m.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(e,c)=>(l(),n("div",x,[t("div",D,[t("div",L,[S,o(y),t("div",B,[o(g,null,{default:r(()=>[C,t("tbody",null,[s.length>0?(l(!0),n(b,{key:0},k(s,(a,_)=>(l(),n("tr",{key:a._id,class:v({"bg-red":!a.lecture.post})},[t("td",null,i(new Date(a.lecture.date).toLocaleDateString()),1),t("td",null,i(a.lecture.title),1),A,t("td",null,[o(w,{class:"cancelApply",color:"blue darken-4",onClick:$=>u(_)},{default:r(()=>[N]),_:2},1032,["onClick"])])],2))),128)):(l(),n("tr",T,E))])]),_:1})])])])]))}};export{G as default};
