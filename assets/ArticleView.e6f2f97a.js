import{a3 as G,bb as j,a4 as z,u as F,a as J,o as y,c as C,b as r,ad as N,d as S,a7 as K,ac as q,ay as W,a6 as E,J as X,ab as P,w as L,U as Q,V as H,aI as Y,a8 as Z,a9 as ee,f as I,bc as te}from"./index.97b0537b.js";var M={exports:{}};(function(R,T){(function(_,p){R.exports=p()})(G,function(){return function _(p,w,a){var i=window,d="application/octet-stream",t=a||d,e=p,s=!w&&!a&&e,n=document.createElement("a"),k=function(o){return String(o)},c=i.Blob||i.MozBlob||i.WebKitBlob||k,f=w||"download",l,x;if(c=c.call?c.bind(i):Blob,String(this)==="true"&&(e=[e,t],t=e[0],e=e[1]),s&&s.length<2048&&(f=s.split("/").pop().split("?")[0],n.href=s,n.href.indexOf(s)!==-1)){var m=new XMLHttpRequest;return m.open("GET",s,!0),m.responseType="blob",m.onload=function(o){_(o.target.response,f,d)},setTimeout(function(){m.send()},0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(e))if(e.length>1024*1024*1.999&&c!==k)e=U(e),t=e.type||d;else return navigator.msSaveBlob?navigator.msSaveBlob(U(e),f):g(e);else if(/([\x80-\xff])/.test(e)){var h=0,B=new Uint8Array(e.length),O=B.length;for(h;h<O;++h)B[h]=e.charCodeAt(h);e=new c([B],{type:t})}l=e instanceof c?e:new c([e],{type:t});function U(o){var u=o.split(/[:;,]/),b=u[1],$=u[2]=="base64"?atob:decodeURIComponent,V=$(u.pop()),A=V.length,v=0,D=new Uint8Array(A);for(v;v<A;++v)D[v]=V.charCodeAt(v);return new c([D],{type:b})}function g(o,u){if("download"in n)return n.href=o,n.setAttribute("download",f),n.className="download-js-link",n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n),u===!0&&setTimeout(function(){i.URL.revokeObjectURL(n.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(o)&&(o="data:"+o.replace(/^data:([\w\/\-\+]+)/,d)),window.open(o)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=o),!0;var b=document.createElement("iframe");document.body.appendChild(b),!u&&/^data:/.test(o)&&(o="data:"+o.replace(/^data:([\w\/\-\+]+)/,d)),b.src=o,setTimeout(function(){document.body.removeChild(b)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(l,f);if(i.URL)g(i.URL.createObjectURL(l),!0);else{if(typeof l=="string"||l.constructor===k)try{return g("data:"+t+";base64,"+i.btoa(l))}catch{return g("data:"+t+","+encodeURIComponent(l))}x=new FileReader,x.onload=function(o){g(this.result)},x.readAsDataURL(l)}return!0}})})(M);var ae=M.exports;const oe={class:"container"},ne={class:"mt-5 pt-5",id:"lecture"},se={class:"row"},ie={class:"col-12"},re={class:"col-12 text-center"},ce={class:"col-12"},le=["innerHTML"],de={class:"col-12",cols:"12"},ue={class:"col-12"},pe=I("\u6211\u8981\u5831\u540D"),fe=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),he={__name:"ArticleView",setup(R){const T=j(),_=z(),p=F(),{addLecture:w}=p,a=J({_id:"",title:"",content:"",image:"",files:[],category:"",post:!0,date:""}),i=async(t,e)=>{const s=await te.get(t,{responseType:"blob",headers:{accept:"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"}}),n=s.headers["content-type"];ae(s.data,"\u9644\u4EF6"+e+"."+t.split(".").reverse()[0],n)};return(async()=>{try{const{data:t}=await Z.get("/articles/"+T.params.id);a._id=t.article._id,a.title=t.article.title,a.content=t.article.content,a.image=a.image.length>0?"https://taishanim.herokuapp.com/files/"+t.article.image:"",a.files=t.article.files.map(e=>({name:e,link:"https://taishanim.herokuapp.com/files/"+e})),a.category=t.article.category,a.post=t.article.post,a.date=t.article.date}catch{ee.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u6587\u7AE0\u8CC7\u6599\u5931\u6557"}),_.go(-1)}})(),(t,e)=>(y(),C("div",oe,[r("div",ne,[r("div",se,[r("div",ie,[r("h1",null,N(a.title),1)]),S(K),r("div",re,[a.image?(y(),q(W,{key:0,src:a.image},null,8,["src"])):E("",!0)]),r("div",ce,[r("p",{innerHTML:a.content},null,8,le)]),(y(!0),C(X,null,P(a.files,(s,n)=>(y(),C("div",de,[S(H,{variant:"text",onClick:k=>i(s.link,n+1)},{default:L(()=>[I("\u9644\u4EF6"+N(n+1),1)]),_:2},1032,["onClick"])]))),256)),r("div",ue,[a.category==="\u8B1B\u5EA7\u8CC7\u8A0A"?(y(),q(H,{key:0,color:"primary",onClick:e[0]||(e[0]=s=>Q(w)({lecture:a._id}))},{default:L(()=>[pe]),_:1})):E("",!0)]),S(Y,{class:"align-center justify-center","model-value":!a.post},{default:L(()=>[fe]),_:1},8,["model-value"])])])]))}};export{he as default};
