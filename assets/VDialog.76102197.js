import{x as y,aD as E,Q as x,aE as h,g as S,aF as D,aG as B,r as P,al as T,i as v,n as A,d as F,K as k,aH as w,a2 as I}from"./index.b583a918.js";const $=y()({name:"VDialog",inheritAttrs:!1,props:{fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean,...E({width:"auto"}),...x({transition:{component:h}})},emits:{"update:modelValue":t=>!0},setup(t,f){let{attrs:m,slots:i}=f;const l=S(t,"modelValue"),{dimensionStyles:g}=D(t),{scopeId:p}=B(),e=P();function u(a){var o,n;const c=a.relatedTarget,r=a.target;if(c!==r&&(o=e.value)!=null&&o.contentEl&&(n=e.value)!=null&&n.isTop&&![document,e.value.contentEl].includes(r)&&!e.value.contentEl.contains(r)){const s=[...e.value.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(b=>!b.hasAttribute("disabled"));if(!s.length)return;const d=s[0],V=s[s.length-1];c===d?V.focus():d.focus()}}return T&&v(()=>l.value&&t.retainFocus,a=>{a?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0}),v(l,async a=>{if(await I(),a){var o;(o=e.value.contentEl)==null||o.focus({preventScroll:!0})}else{var n;(n=e.value.activatorEl)==null||n.focus({preventScroll:!0})}}),A(()=>F(w,k({modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}],style:g.value,transition:t.transition,ref:e,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(l.value)},"z-index":2400},p,m),{default:i.default,activator:i.activator})),{}}});export{$ as V};
