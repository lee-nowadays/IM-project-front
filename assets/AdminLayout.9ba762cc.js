import{bc as Z,b3 as q,X as j,h as p,r as N,m as F,aM as J,aN as K,bd as Q,aQ as G,af as ee,s as te,y as ae,aS as ne,B as oe,C as V,aU as le,ai as ie,aX as ue,be as re,g as se,av as ce,i as P,W as de,bf as ve,n as me,N as H,d as t,K as he,bg as fe,J as A,u as ge,bh as be,a5 as we,o as ye,c as _e,w as R,U as x,bi as pe,ad as f,bj as Me,a9 as D,b7 as Ee}from"./index.8f1e378f.js";const Te=100,xe=20;function O(e){const r=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*r}function Y(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const a=O(r),m=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);r+=(m-a)*Math.abs(m),s===e.length-1&&(r*=.5)}return O(r)*1e3}function Se(){const e={};function r(m){Array.from(m.changedTouches).forEach(n=>{var c;((c=e[n.identifier])!=null?c:e[n.identifier]=new Z(xe)).push([m.timeStamp,n])})}function s(m){Array.from(m.changedTouches).forEach(n=>{delete e[n.identifier]})}function a(m){var n;const c=(n=e[m])==null?void 0:n.values().reverse();if(!c)throw new Error(`No samples for touch id ${m}`);const w=c[0],S=[],E=[];for(const d of c){if(w[0]-d[0]>Te)break;S.push({t:d[0],d:d[1].clientX}),E.push({t:d[0],d:d[1].clientY})}return{x:Y(S),y:Y(E),get direction(){const{x:d,y:g}=this,[i,h]=[Math.abs(d),Math.abs(g)];return i>h&&d>=0?"right":i>h&&d<=0?"left":h>i&&g>=0?"down":h>i&&g<=0?"up":Be()}}}return{addMovement:r,endTouch:s,getVelocity:a}}function Be(){throw new Error}function ke(e){let{isActive:r,isTemporary:s,width:a,touchless:m,position:n}=e;q(()=>{window.addEventListener("touchstart",$,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",C,{passive:!0})}),j(()=>{window.removeEventListener("touchstart",$),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",C)});const c=p(()=>n.value!=="bottom"),{addMovement:w,endTouch:S,getVelocity:E}=Se();let d=!1;const g=N(!1),i=N(0),h=N(0);let k;function T(o,u){return(n.value==="left"?o:n.value==="right"?document.documentElement.clientWidth-o:n.value==="bottom"?document.documentElement.clientHeight-o:B())-(u?a.value:0)}function y(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const l=n.value==="left"?(o-h.value)/a.value:n.value==="right"?(document.documentElement.clientWidth-o-h.value)/a.value:n.value==="bottom"?(document.documentElement.clientHeight-o-h.value)/a.value:B();return u?Math.max(0,Math.min(1,l)):l}function $(o){if(m.value)return;const u=o.changedTouches[0].clientX,l=o.changedTouches[0].clientY,b=25,_=n.value==="left"?u<b:n.value==="right"?u>document.documentElement.clientWidth-b:n.value==="bottom"?l>document.documentElement.clientHeight-b:B(),v=r.value&&(n.value==="left"?u<a.value:n.value==="right"?u>document.documentElement.clientWidth-a.value:n.value==="bottom"?l>document.documentElement.clientHeight-a.value:B());(_||v||r.value&&s.value)&&(d=!0,k=[u,l],h.value=T(c.value?u:l,r.value),i.value=y(c.value?u:l),S(o),w(o))}function M(o){const u=o.changedTouches[0].clientX,l=o.changedTouches[0].clientY;if(d){if(!o.cancelable){d=!1;return}const _=Math.abs(u-k[0]),v=Math.abs(l-k[1]);(c.value?_>v&&_>3:v>_&&v>3)?(g.value=!0,d=!1):(c.value?v:_)>3&&(d=!1)}if(!g.value)return;o.preventDefault(),w(o);const b=y(c.value?u:l,!1);i.value=Math.max(0,Math.min(1,b)),b>1?h.value=T(c.value?u:l,!0):b<0&&(h.value=T(c.value?u:l,!1))}function C(o){if(d=!1,!g.value)return;w(o),g.value=!1;const u=E(o.changedTouches[0].identifier),l=Math.abs(u.x),b=Math.abs(u.y);(c.value?l>b&&l>400:b>l&&b>3)?r.value=u.direction===({left:"right",right:"left",bottom:"up"}[n.value]||B()):r.value=i.value>.5}const W=p(()=>g.value?{transform:n.value==="left"?`translateX(calc(-100% + ${i.value*a.value}px))`:n.value==="right"?`translateX(calc(100% - ${i.value*a.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${i.value*a.value}px))`:B(),transition:"none"}:void 0);return{isDragging:g,dragProgress:i,dragStyles:W}}function B(){throw new Error}const z=F({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:Boolean,railWidth:{type:[Number,String],default:72},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"left",validator:e=>["left","right","bottom"].includes(e)},...J(),...K(),...Q(),...G(),...ee({tag:"nav"}),...te()},emits:{"update:modelValue":e=>!0},setup(e,r){let{attrs:s,slots:a}=r;const{themeClasses:m}=ae(e),{borderClasses:n}=ne(e),{backgroundColorClasses:c,backgroundColorStyles:w}=oe(V(e,"color")),{elevationClasses:S}=le(e),{mobile:E}=ie(),{roundedClasses:d}=ue(e),g=re(),i=se(e,"modelValue",null,v=>!!v),h=N(!1),{ssrBootStyles:k}=ce(),T=p(()=>e.rail&&e.expandOnHover&&h.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),y=p(()=>!e.permanent&&(E.value||e.temporary));e.disableResizeWatcher||P(y,v=>!e.permanent&&(i.value=!v)),!e.disableRouteWatcher&&g&&P(g.currentRoute,()=>y.value&&(i.value=!1)),P(()=>e.permanent,v=>{v&&(i.value=!0)}),de(()=>{e.modelValue!=null||y.value||(i.value=e.permanent||!E.value)});const $=N(),{isDragging:M,dragProgress:C,dragStyles:W}=ke({isActive:i,isTemporary:y,width:T,touchless:V(e,"touchless"),position:V(e,"location")}),o=p(()=>{const v=y.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):T.value;return M.value?v*C.value:v}),{layoutItemStyles:u,layoutRect:l,layoutItemScrimStyles:b}=ve({id:e.name,order:p(()=>parseInt(e.order,10)),position:V(e,"location"),layoutSize:o,elementSize:T,active:p(()=>i.value||M.value),disableTransitions:p(()=>M.value),absolute:V(e,"absolute")}),_=p(()=>({...M.value?{opacity:C.value*.2,transition:"none"}:void 0,...l.value?{left:H(l.value.left),right:H(l.value.right),top:H(l.value.top),bottom:H(l.value.bottom)}:void 0,...b.value}));return me(()=>{var v,L,I,X;const U=a.image||e.image;return t(A,null,[t(e.tag,he({ref:$,onMouseenter:()=>h.value=!0,onMouseleave:()=>h.value=!1,class:["v-navigation-drawer",{"v-navigation-drawer--bottom":e.location==="bottom","v-navigation-drawer--end":e.location==="right","v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":h.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--start":e.location==="left","v-navigation-drawer--temporary":y.value,"v-navigation-drawer--active":i.value},m.value,c.value,n.value,S.value,d.value],style:[w.value,u.value,W.value,k.value]},s),{default:()=>[U&&t("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(v=a.image)==null?void 0:v.call(a,{image:e.image}):t("img",{src:e.image,alt:""},null)]),a.prepend&&t("div",{class:"v-navigation-drawer__prepend"},[(L=a.prepend)==null?void 0:L.call(a)]),t("div",{class:"v-navigation-drawer__content"},[(I=a.default)==null?void 0:I.call(a)]),a.append&&t("div",{class:"v-navigation-drawer__append"},[(X=a.append)==null?void 0:X.call(a)])]}),t(fe,{name:"fade-transition"},{default:()=>[y.value&&(M.value||i.value)&&t("div",{class:"v-navigation-drawer__scrim",style:_.value,onClick:()=>i.value=!1},null)]})])}),{}}}),Ve={__name:"AdminLayout",setup(e){const r=ge(),{avatar:s,name:a}=be(r),{logout:m}=r;return(n,c)=>{const w=we("router-view");return ye(),_e(A,null,[t(x(Me.exports.Slide),{class:"menu",right:""},{default:R(()=>[t(z,{"expand-on-hover":"",rail:"",permanent:""}),t(f,{"prepend-avatar":x(s),title:x(a)},null,8,["prepend-avatar","title"]),t(f,{to:"/admin/calendar",title:"\u884C\u4E8B\u66C6\u7BA1\u7406","prepend-icon":"mdi-calendar"}),t(f,{to:"/admin/students",title:"\u5B78\u751F\u7BA1\u7406","prepend-icon":"mdi-account"}),t(f,{to:"/admin/teachers",title:"\u5E2B\u8CC7\u7BA1\u7406","prepend-icon":"mdi-school"}),t(f,{to:"/admin/articles",title:"\u6587\u7AE0\u7BA1\u7406","prepend-icon":"mdi-nativescript"}),t(f,{to:"/",title:"\u56DE\u524D\u53F0","prepend-icon":"mdi-home"}),t(f,{title:"\u767B\u51FA","prepend-icon":"mdi-logout",onClick:x(m)},null,8,["onClick"])]),_:1}),t(z,{"expand-on-hover":"",rail:"",permanent:""},{default:R(()=>[t(D,null,{default:R(()=>[t(f,{"prepend-avatar":x(s),title:x(a)},null,8,["prepend-avatar","title"])]),_:1}),t(Ee),t(D,null,{default:R(()=>[t(f,{to:"/admin/calendar",title:"\u884C\u4E8B\u66C6\u7BA1\u7406","prepend-icon":"mdi-calendar"}),t(f,{to:"/admin/students",title:"\u5B78\u751F\u7BA1\u7406","prepend-icon":"mdi-account"}),t(f,{to:"/admin/teachers",title:"\u5E2B\u8CC7\u7BA1\u7406","prepend-icon":"mdi-school"}),t(f,{to:"/admin/articles",title:"\u6587\u7AE0\u7BA1\u7406","prepend-icon":"mdi-nativescript"}),t(f,{to:"/",title:"\u56DE\u524D\u53F0","prepend-icon":"mdi-home"}),t(f,{title:"\u767B\u51FA","prepend-icon":"mdi-logout",onClick:x(m)},null,8,["onClick"])]),_:1})]),_:1}),t(pe,null,{default:R(()=>[t(w)]),_:1})],64)}}};export{Ve as default};
